{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:51:45"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:51:47"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:52:20"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:53:31"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:53:31"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:53:32"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:58:40"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:33:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 18:58:41"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:06:29"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:06:36"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:07:20"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:08:10"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:08:15"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:08:52"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: error is not defined","metadata":{"stack":"ReferenceError: error is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:54)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:10:15"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:29:33)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:16:32"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Failed to verify session","metadata":{"stack":"Error: Failed to verify session\n    at SessionManager.verifySession (/app/utils/sessionManager.js:37:19)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:16:32"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session sessionToken is not defined","metadata":{"stack":"ReferenceError: sessionToken is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:29:12)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:17:30"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Failed to verify session","metadata":{"stack":"Error: Failed to verify session\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:19)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:17:30"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session sessionToken is not defined","metadata":{"stack":"ReferenceError: sessionToken is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:29:12)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:18:08"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Failed to verify session","metadata":{"stack":"Error: Failed to verify session\n    at SessionManager.verifySession (/app/utils/sessionManager.js:36:19)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:18:08"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session sessionToken is not defined","metadata":{"stack":"ReferenceError: sessionToken is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:29:12)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:23:29"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Failed to verify session","metadata":{"stack":"Error: Failed to verify session\n    at SessionManager.verifySession (/app/utils/sessionManager.js:42:19)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:23:29"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session sessionToken is not defined","metadata":{"stack":"ReferenceError: sessionToken is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:29:12)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:24:04"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: ErrorResponse is not a constructor","metadata":{"stack":"TypeError: ErrorResponse is not a constructor\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:24:04"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to verify session sessionToken is not defined","metadata":{"stack":"ReferenceError: sessionToken is not defined\n    at SessionManager.verifySession (/app/utils/sessionManager.js:30:51)\n    at requireAuth (/app/middleware/auth.js:81:42)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at Route.dispatch (/app/node_modules/router/lib/route.js:117:3)\n    at handle (/app/node_modules/router/index.js:435:11)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at /app/node_modules/router/index.js:295:15\n    at processParams (/app/node_modules/router/index.js:582:12)\n    at next (/app/node_modules/router/index.js:291:5)","timestamp":"2025-05-24 19:24:30"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: ErrorResponse is not a constructor","metadata":{"stack":"TypeError: ErrorResponse is not a constructor\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:24:30"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: ErrorResponse is not a constructor","metadata":{"stack":"TypeError: ErrorResponse is not a constructor\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:30:21"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: ErrorResponse is not a constructor","metadata":{"stack":"TypeError: ErrorResponse is not a constructor\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:30:23"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Invalid session","metadata":{"stack":"Error: Invalid session\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:35:15"}}
{"level":"\u001b[31merror\u001b[39m","message":"Authentication error: Invalid session","metadata":{"stack":"Error: Invalid session\n    at requireAuth (/app/middleware/auth.js:83:13)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-24 19:40:35"}}
{"level":"\u001b[31merror\u001b[39m","message":"Create Customer Error: E11000 duplicate key error collection: BackendPoS.customers index: phone_1 dup key: { phone: \"0812345678\" }","metadata":{"timestamp":"2025-05-25 07:30:45"}}
{"level":"\u001b[31merror\u001b[39m","message":"Login error: user.matchPassword is not a function","metadata":{"timestamp":"2025-05-30 10:45:18"}}
{"level":"\u001b[31merror\u001b[39m","message":"Login error: user.matchPassword is not a function","metadata":{"timestamp":"2025-05-30 10:45:32"}}
{"level":"\u001b[31merror\u001b[39m","message":"Login error: userData is not defined","metadata":{"stack":"ReferenceError: userData is not defined\n    at exports.login (/app/controllers/auth.js:113:9)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-30 16:57:48"}}
{"level":"\u001b[31merror\u001b[39m","message":"Dashboard Error: redisClient.json is not a function","metadata":{"timestamp":"2025-05-31 08:41:22"}}
{"level":"\u001b[31merror\u001b[39m","message":"Dashboard Error: redisClient.json is not a function","metadata":{"timestamp":"2025-05-31 09:22:30"}}
{"level":"\u001b[31merror\u001b[39m","message":"Dashboard Error: catchService is not defined","metadata":{"timestamp":"2025-05-31 09:30:51"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error getting cache for key dashboard_stats: cacheService is not defined","metadata":{"timestamp":"2025-05-31 09:31:55"}}
{"level":"\u001b[31merror\u001b[39m","message":"Dashboard Error: cacheService is not defined","metadata":{"timestamp":"2025-05-31 09:31:55"}}
{"level":"\u001b[31merror\u001b[39m","message":"Dashboard Error: re is not defined","metadata":{"timestamp":"2025-05-31 09:32:36"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:84:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 10:03:42"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 10:03:42"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:84:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:24:53"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 13:24:53"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:97:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:25:58"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 13:25:58"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:97:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:26:40"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 13:26:40"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session client is not defined","metadata":{"stack":"ReferenceError: client is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:97:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:26:46"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 13:26:46"}}
{"level":"\u001b[31merror\u001b[39m","message":"Failed to refresh session sessionKey is not defined","metadata":{"stack":"ReferenceError: sessionKey is not defined\n    at SessionManager.refreshSession (/app/utils/sessionManager.js:100:38)\n    at exports.checkSession (/app/middleware/sessionCheck.js:27:26)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:35:54"}}
{"level":"\u001b[31merror\u001b[39m","message":"Session check error: Failed to refresh session","metadata":{"timestamp":"2025-05-31 13:35:54"}}
{"level":"\u001b[31merror\u001b[39m","message":"Logout error: SessionManager is not defined","metadata":{"stack":"ReferenceError: SessionManager is not defined\n    at exports.logout (/app/controllers/auth.js:161:7)\n    at Layer.handleRequest (/app/node_modules/router/lib/layer.js:152:17)\n    at next (/app/node_modules/router/lib/route.js:157:13)\n    at exports.checkSession (/app/middleware/sessionCheck.js:34:5)\n    at process.processTicksAndRejections (node:internal/process/task_queues:95:5)","timestamp":"2025-05-31 13:38:43"}}
{"level":"\u001b[31merror\u001b[39m","message":"Server initialization failed: session is not defined","metadata":{"timestamp":"2025-06-03 10:42:23"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error getting store: ไม่พบร้านค้า","metadata":{"timestamp":"2025-06-04 04:40:54"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error getting store: ไม่พบร้านค้า","metadata":{"timestamp":"2025-06-04 04:42:21"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error getting store: ไม่พบร้านค้า","metadata":{"timestamp":"2025-06-04 04:49:22"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error getting store: ไม่พบร้านค้า","metadata":{"timestamp":"2025-06-04 04:50:20"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: mongoose is not defined","metadata":{"timestamp":"2025-06-04 12:58:00"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: mongoose is not defined","metadata":{"timestamp":"2025-06-04 13:02:07"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: mongoose is not defined","metadata":{"timestamp":"2025-06-04 14:38:11"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: mongoose is not defined","metadata":{"timestamp":"2025-06-04 14:40:38"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: Transaction numbers are only allowed on a replica set member or mongos","metadata":{"timestamp":"2025-06-04 14:42:52"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error deleting store: session is not defined","metadata":{"timestamp":"2025-06-04 14:50:11"}}
{"level":"\u001b[31merror\u001b[39m","message":"Error in transaction: Transaction numbers are only allowed on a replica set member or mongos","metadata":{"timestamp":"2025-06-04 14:55:50"}}
{"level":"\u001b[31merror\u001b[39m","message":"Store deletion failed: Transaction numbers are only allowed on a replica set member or mongos","metadata":{"timestamp":"2025-06-04 14:55:50"}}
{"level":"\u001b[31merror\u001b[39m","message":"MongoDB connection failed (retries left: 4): getaddrinfo EAI_AGAIN mongodb","metadata":{"timestamp":"2025-06-05 07:56:56"}}
